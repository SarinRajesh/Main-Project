{% load static %}
<!DOCTYPE HTML>
<html lang="en">
    <head>
        <!--=============== basic  ===============-->
        <meta charset="UTF-8">
        <title>ElegantDecor - Creative Responsive Architecture Template</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="robots" content="index, follow"/>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <!--=============== css  ===============-->	
        <link type="text/css" rel="stylesheet" href="{% static 'index/css/reset.css' %}">
        <link type="text/css" rel="stylesheet" href="{% static 'index/css/plugins.css' %}">
        <link type="text/css" rel="stylesheet" href="{% static 'index/css/style.css' %}">
        <link type="text/css" rel="stylesheet" href="{% static 'index/css/dark-style.css' %}">		
        <link type="text/css" rel="stylesheet" href="{% static 'index/css/yourstyle.css' %}">
        <!--=============== favicons ===============-->
        <link rel="shortcut icon" href="{% static 'index/images/favicon.ico' %}">
    </head>

    <body>
        <!-- loader -->
        <div class="loader">
            <div id="movingBallG">
                <div class="movingBallLineG"></div>
                <div id="movingBallG_1" class="movingBallG"></div>
            </div>
        </div>
        <!-- loader end -->
        <!--================= Main   ================-->
        <div id="main">
            <!--================= header ================-->
            <header class="main-header">
                <!-- logo -->
                <a class="logo-holder"href="{% url 'index' %}" ><img src="{% static 'index/images/ElegantDecor.gif' %}" style="margin-left: 39%;" height="43px" alt=""></a>
                <!-- logo end -->  
                {% if user.is_authenticated %}
                            
                <div class="show-share-wrap">
                    <div class="show-share" style="color: #f39c12; font-weight: bold; font-size: 1.2em; position: relative; z-index: 100;">
                        <span style="display: inline-block; padding: 5px;">{{ user.username }}</span>
                    </div>
                </div>
                {% else %}
                {% endif %}
                <!-- share button end-->  		
                <!-- search button--> 
                <!-- search button end --> 
                <!-- mobile nav --> 
                <div class="nav-button-wrap">
                    <div class="nav-button vis-main-menu"><span></span><span></span><span></span></div>
                </div>
                <!-- mobile nav end--> 
                <!--  navigation --> 
                <div class="nav-holder">
                    <nav>
                        <ul>   
                            {% if user_type != 'Designer' and user_type != 'Customer' %}
                                <li>
                                    <a href="{% url 'index' %}" class="act-link">Home</a>
                                </li>
                                <li>
                                    <a href="{% url 'portfolio' %}">Designs</a>
                                </li>
                                        
                            <li>
                                <a href="about.html">About</a>
                                <ul>
                                    <li><a href="about-personal.html">Personal</a></li>
                                    <li><a href="services.html">Services</a></li>
                                </ul>
                            </li>
                                <li>
                                    <a href="contact.html">Contacts</a>
                                </li>
                                <li>
                                    <a href="{% url 'shop' %}">Shop</a>
                                    <!--second level end-->
                                    <ul>
                                        <li><a href="{% url 'cart' %}">Cart</a></li>
                                    </ul>
                                    <!--second level end-->
                                </li>
                                <li>
                                    <a href="blog.html">Journal</a>
                                    <ul>
                                        <li><a href="blog-grid.html">Grid</a></li>
                                        <li><a href="blog-masonry.html">Masonry</a></li>
                                        <li><a href="blog-single.html">Post Single</a></li>
                                        <li><a href="404.html">404</a></li>
                                    </ul>
                                </li>
                             
                                <li>
                                    <a href="{% url 'signin' %}">Signin</a>
                                </li>
                                {% else %}
                                <li>
                                    <a href="{% url 'index' %}" class="act-link">Home</a>
                                </li>
                                <li>
                                    <a href="{% url 'portfolio' %}">Designs</a>
                                </li>
                                {% if user_type == 'Customer' %}
                                <li>
                                    <a href="{% url 'recommend_products_by_color' %}">Color-Based Suggestions</a>
                                </li>
                                {% endif %}
                                
                            <li>
                                <a href="about.html">About</a>
                                <ul>
                                    <li><a href="about-personal.html">Personal</a></li>
                                    <li><a href="services.html">Services</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="contact.html">Contacts</a>
                            </li>
                            {% if user_type == 'Designer' %}
                            <li>
                                <a href="{% url 'consultations' %}" >Consultations</a>
                            </li>
                            <li>
                                <a href="{% url 'projects_manage' %}" >Projects</a>
                            </li>
                            {% endif %}
                            
                            {% if user_type != 'Designer' %}
                            <li>
                                <a href="{% url 'shop' %}">Shop</a>
                                <!--second level end-->
                                <ul>
                                    <li><a href="{% url 'cart' %}">Cart</a></li>
                                </ul>
                                <!--second level end-->
                            </li>
                            <li><a href="{% url 'mood_board_list' %}">Mood Boards</a>
                                <ul>
                                    <li><a href="{% url 'create_mood_board' %}">Create Mood Boards</a></li>
                                </ul>
                            </li>
                            {% endif %}
                           
                            {% endif %}
                        </ul>
                    </nav>
                    
                </div>
                <!-- navigation  end -->
            </header>
            <!-- header  end -->
            <!--=============== wrapper ===============-->
            <div id="wrapper">
                <!-- content-holder  -->
                <div class="content-holder">
                    <!-- hero content -->
                    <div class="fl-wrap full-height hero-content" data-scrollax-parent="true" >
                        <div class="media-container" data-scrollax="properties: { translateY: '400px' }" >
                            <div class="video-mask"></div>
                            <div class="video-holder">
                                <div class="video-container">
                                    <video autoplay loop muted class="bgvid">
                                        <source src="{% static 'index/video/intro.mp4' %}" type="video/mp4">
                                    </video>
                                    
                                </div>
                                <!--  
                                    Vimeo code
                                    
                                     <div  class="background-vimeo" data-vim="97871257"> </div> --> 
                                <!--  
                                    Youtube code 
                                    
                                     <div  class="background-youtube" data-vid="Hg5iNVSp2z8" data-mv="1"> </div> -->
                                     <div class="mob-bg bg" data-bg="{% static 'index/images/bg/2.jpg' %}"></div>

                            </div>
                        </div>
                        <div class="overlay"></div>
                        <!-- hero-wrap-->           
                        <div class="hero-wrap alt">
                            <div class="container">
                                <div class="hero-item">
                                    <h2>ElegantDecor<br>Creative  Architecture <br> Studio</h2>
                                    <div class="clearfix"></div>
                                    <p>All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary .</p>
                                    <div class="clearfix"></div>
                                    <a href="#sec2" class="btn float-btn flat-btn custom-scroll-link">Let's Start</a>
                                </div>
                            </div>
                        </div>
                        <!-- hero-wrap end-->  
                    </div>
                    <!-- hero content end-->
                    <!--content-->	 
                    <div class="content">
                        <!--section -->	
                        <section id="sec2" data-scrollax-parent="true" >
                            <div class="container">
                                <div class="section-container fl-wrap">
                                    <div class="row">
                                        <div class="col-md-7">
                                            <div class="content-wrap about-wrap">
                                                <h3 class="bold-title">Welcome !  We are ElegantDecor .  <br>   Architecture Studio <br> From NY</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras lacinia magna vel molestie faucibus. Donec auctor et urnaLorem ipsum dolor sit amet, consectetur adipiscing elit. Cras lacinia magna vel molestie faucibus.  
                                                    Cras lacinia magna vel molestie faucibus. Donec auctor et urnaLorem ipsum dolor sit amet, consectetur adipiscing elit. Cras lacinia magna vel molestie faucibus.
                                                </p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras lacinia magna vel molestie faucibus. Donec auctor et urnaLorem ipsum dolor sit amet, consectetur adipiscing elit.  
                                                </p>
                                                <br><br>
                                                <h3 class="bold-title">What we do</h3>
                                                <div class="pr-tags fl-wrap">
                                                    <span>Services : </span>
                                                    <ul>
                                                        <li><a href="#">Architecture</a></li>
                                                        <li><a href="#">Design</a></li>
                                                        <li><a href="#">Photography</a></li>
                                                    </ul>
                                                </div>
                                                <span class="bold-separator"></span>
                                                <div class="clearfix"></div>
                                                <a href="portfolio.html" class="btn float-btn flat-btn">Our portfolio</a>
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="box-item">
                                                <img src="{% static 'index/images/folio/6.jpg' %}" class="respimg" alt="">
                                                <div class="overlay"></div>
                                                <a href="{% static 'index/images/folio/6.jpg' %}" class="image-popup popup-image"><i class="fa fa-search"></i></a>
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg dec-bg left-pos-dec"  data-bg="images/bg/14.jpg"></div>
                        </section>
                        <!--section end  -->	
                        <!--section -->	
                        <section  >
                            <div class="bg" data-bg="{% static 'index/images/bg/4.jpg' %}"></div>
                            <div class="overlay"></div>
                            <div class="container">
                                <div class="intro-text fl-wrap">
                                    <h2>Entrust your project <br>to our team of  <br>professionals</h2>
                                    <a href="services.html" class="btn float-btn flat-btn">Our Services</a>
                                    <a href="contact.html" class="btn float-btn flat-btn">Get in Touch</a>
                                </div>
                            </div>
                        </section>
                        <!--section end  -->	
                        <!--section -->	                             	 
                        <section >
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="pr-title">
                                            Our Featured Work
                                            <span>Lorem Ipsum generators on the Internet tend to repeat king this the first true generator . </span>
                                        </div>
                                    </div>
                                </div>
                                <!--parallax-item -->	
                                <div class="row">
                                    <div class="col-md-5"></div>
                                    <div class="col-md-7">
                                        <div class="parallax-item fl-wrap" data-scrollax-parent="true">
                                            <div class="parallax-header fl-wrap">
                                                <span>01.</span>
                                                <ul>
                                                    <li><a href="#">Design</a></li>
                                                    <li><a href="#">Architecture </a></li>
                                                </ul>
                                            </div>
                                            <img src="{% static 'index/images/folio/2.jpg' %}" alt="">

                                            <div class="parallax-text left-pos" data-scrollax="properties: { translateY: '-250px' }">
                                                <h3><a href="portfolio-single.html">Theatre de Stoep</a></h3>
                                                <h4>There are many variations of passages of Lorem Ipsum</h4>
                                                <a href="portfolio-single.html" class="btn float-btn flat-btn">View project</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--parallax-item end-->	
                                <!--parallax-item -->	
                                <div class="row">
                                    <div class="col-md-7">
                                        <div class="parallax-item fl-wrap" data-scrollax-parent="true">
                                            <div class="parallax-header fl-wrap">
                                                <span>02.</span>
                                                <ul>
                                                    <li><a href="#">Design</a></li>
                                                    <li><a href="#">Architecture </a></li>
                                                </ul>
                                            </div>
                                            <img src="{% static 'index/images/folio/11.jpg' %}" alt="">

                                            <div class="parallax-text right-pos" data-scrollax="properties: { translateY: '-250px' }">
                                                <h3><a href="portfolio-single.html">New Acropolis Museum</a></h3>
                                                <h4>There are many variations of passages of Lorem Ipsum</h4>
                                                <a href="portfolio-single.html" class="btn float-btn flat-btn">View project</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--parallax-item end-->	                    
                                <!--parallax-item -->	
                                <div class="row">
                                    <div class="col-md-5"></div>
                                    <div class="col-md-7">
                                        <div class="parallax-item fl-wrap" data-scrollax-parent="true">
                                            <div class="parallax-header fl-wrap">
                                                <span>03.</span>
                                                <ul>
                                                    <li><a href="#">Design</a></li>
                                                    <li><a href="#">Architecture </a></li>
                                                </ul>
                                            </div>
                                            <img src="{% static 'index/images/folio/16.jpg' %}" alt="">
                                            <div class="parallax-text left-pos" data-scrollax="properties: { translateY: '-250px' }">
                                                <h3><a href="portfolio-single.html">Theatre de Stoep</a></h3>
                                                <h4>There are many variations of passages of Lorem Ipsum</h4>
                                                <a href="portfolio-single.html" class="btn float-btn flat-btn">View project</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--parallax-item end-->	
                                <!--parallax-item -->	
                                <div class="row">
                                    <div class="col-md-7">
                                        <div class="parallax-item fl-wrap" data-scrollax-parent="true">
                                            <div class="parallax-header fl-wrap">
                                                <span>04.</span>
                                                <ul>
                                                    <li><a href="#">Design</a></li>
                                                    <li><a href="#">Architecture </a></li>
                                                </ul>
                                            </div>
                                            <img src="{% static 'index/images/folio/19.jpg' %}" alt="">
                                            <div class="parallax-text right-pos" data-scrollax="properties: { translateY: '-250px' }">
                                                <h3><a href="portfolio-single.html">New Acropolis Museum</a></h3>
                                                <h4>There are many variations of passages of Lorem Ipsum</h4>
                                                <a href="portfolio-single.html" class="btn float-btn flat-btn">View project</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--parallax-item end-->	                       
                            </div>
                            <div class="partcile-dec" data-parcount="250"></div>
                        </section>
                        <!--section end  -->	
                        <!--section -->	
                        <section class="parallax-section header-section  " data-scrollax-parent="true" id="sec6">
                            <div class="bg" data-bg="{% static 'index/images/bg/1.jpg' %}" data-scrollax="properties: { translateY: '200px' }"></div>
                        <div class="overlay"></div>
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="pr-title">
                                            Testimonials
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="single-slider testilider fl-wrap" data-effects="slide">
                                            <div class="swiper-container">
                                                <div class="swiper-wrapper">
                                                    <!-- swiper-slide -->
                                                    <div class="swiper-slide">
                                                        <div class="testi-item fl-wrap">
                                                            <h3>Andy Smith</h3>
                                                            <p>"All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words"</p>
                                                            <a href="#" class="btn float-btn flat-btn" target="_blank">Via Twitter</a>
                                                        </div>
                                                    </div>
                                                    <!-- swiper-slide end-->
                                                    <!-- swiper-slide -->
                                                    <div class="swiper-slide">
                                                        <div class="testi-item fl-wrap">
                                                            <h3>Liza Mirovsky</h3>
                                                            <p>"Vestibulum orci felis, ullamcorper non condimentum non, ultrices ac nunc. Mauris non ligula suscipit, vulputate mi accumsan, dapibus felis. Nullam sed sapien dui. Nulla auctor sit amet sem non porta. Integer iaculis tellus nulla, quis imperdiet magna venenatis vitae"</p>
                                                            <a href="#" class="btn float-btn flat-btn" target="_blank">Via Facebook</a>
                                                        </div>
                                                    </div>
                                                    <!-- swiper-slide end-->
                                                    <!-- swiper-slide -->
                                                    <div class="swiper-slide">
                                                        <div class="testi-item fl-wrap">
                                                            <h3>Gary Trust</h3>
                                                            <p>"If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text."</p>
                                                            <a href="#" class="btn float-btn flat-btn" target="_blank">Via Myspace</a>
                                                        </div>
                                                    </div>
                                                    <!-- swiper-slide end-->
                                                </div>
                                                <div class="swiper-pagination"></div>
                                                <div class="swiper-button-prev"><i class="fa fa-angle-left"></i></div>
                                                <div class="swiper-button-next"><i class="fa fa-angle-right"></i></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <!--section end  -->	
                        <!--section -->	
                        <section>
                            <div class="container">
                                <div class="clients-list fl-wrap">
                                    <ul>
                                        <li><a href="#" target="_blank"> <img src="{% static 'index/images/clients/1.jpg' %}" alt=""> </a></li>
                                        <li><a href="#" target="_blank"> <img src="{% static 'index/images/clients/2.jpg' %}" alt=""> </a></li>
                                        <li><a href="#" target="_blank"> <img src="{% static 'index/images/clients/3.jpg' %}" alt=""> </a></li>
                                        <li><a href="#" target="_blank"> <img src="{% static 'index/images/clients/4.jpg' %}" alt=""> </a></li>
                                        <li><a href="#" target="_blank"> <img src="{% static 'index/images/clients/5.jpg' %}" alt=""> </a></li>
                                    </ul>
                                    
                                </div>
                            </div>
                        </section>
                        <!--section end  -->	
                        <!--social-wrap -->	  
                        <div class="social-wrap fl-wrap">
                            <ul>
                                <li><a href="#" target="_blank" ><i class="fa fa-facebook"></i></a></li>
                                <li><a href="#" target="_blank"><i class="fa fa-twitter"></i></a></li>
                                <li><a href="#" target="_blank" ><i class="fa fa-instagram"></i></a></li>
                                <li><a href="#" target="_blank" ><i class="fa fa-pinterest"></i></a></li>
                                <li><a href="#" target="_blank" ><i class="fa fa-tumblr"></i></a></li>
                            </ul>
                        </div>
                        <!--social-wrap end-->	
                    </div>
                    <!-- content  end --> 
                    <!--=============== content-footer   ===============-->
                    <div class="height-emulator"></div>
                    <footer class="content-footer">
                        <div class="footer-inner">
                            <div class="row">
                                <div class="col-md-3">
                                    <a class="footer-logo" href="{% url 'index' %}"><img src="{% static 'index/images/logo.png' %}" alt=""></a>
                                </div>
                                
                                <div class="col-md-4">
                                    <div class="footer-header fl-wrap"><span>01.</span> Contacts</div>
                                    <div class="footer-box fl-wrap">
                                        <ul>
                                            <li><span>Mail :</span><a href="#" target="_blank">yourmail@domain.com</a></li>
                                            <li> <span>Adress :</span><a href="#" target="_blank">USA 27TH Brooklyn NY</a></li>
                                            <li><span>Phone :</span><a href="#">+7(111)123456789</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="footer-header fl-wrap"><span>02.</span> Subscribe</div>
                                    <div class="footer-box fl-wrap">
                                        <div class="subcribe-form fl-wrap">
                                            <span>Newsletter</span>
                                            <form id="subscribe">
                                                <input class="enteremail" name="email" id="subscribe-email" placeholder="email" spellcheck="false" type="text">
                                                <button type="submit" id="subscribe-button" class="subscribe-button">Submit</button>
                                                <label for="subscribe-email" class="subscribe-message"></label>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3"></div>
                                <div class="col-md-9">
                                    <div class="fl-wrap policy-box">
                                        <p> &#169; ElegantDecor   2017.  All rights reserved.  </p>
                                    </div>
                                </div>
                            </div>
                            <div class="to-top"><i class="fa fa-long-arrow-up"></i></div>
                        </div>
                    </footer>
                    <!-- content-footer end    -->
                </div>
                <!-- content-holder end -->
            </div>
            <!-- wrapper end -->
            <!--search-form-holder -->  
            <div class="search-form-holder fixed-search">
                <div class="search-form-bg"></div>
                <div class="search-form-wrap">
                    <div class="container">
                        <form class="searchform" method="get"  >
                            <input type="text" autocomplete="off"   name="s" placeholder="Type and Enter to Search">
                        </form>
                        <div class="close-fixed-search"></div>
                    </div>
                    <div class="dublicated-text"></div>
                </div>
            </div>
            <!--search-form-holder  end-->  
<!-- Share container  -->
<div class="share-wrapper isShare">
    <div class="share-container" style="padding: 20px;">
        <ul style="list-style-type: none; padding: 0; margin: 0;">
            {% if user_type == 'Customer' %}
            <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
                <a href="{% url 'profile' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">My Profile</a>
            </li>
            <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
                <a href="{% url 'my_projects' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">Projects</a>
            </li>
            <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
                <a href="{% url 'my_consultations' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">Consultations</a>
            </li>
            <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
                <a href="{% url 'my_orders' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">Orders</a>
            </li>
            
        <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
            <a href="{% url 'logout_view' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">Logout</a>
        </li>
        </ul>
        {% endif %}
        {% if user_type == 'Designer' %}
                <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
                    <a href="{% url 'profile' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">My Profile</a>
                </li>
                    <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
                        <a href="{% url 'add_portfolio' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">Add Designs</a>
                    </li>
                    <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
                        <a href="{% url 'schedule_consultation' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">Schedule Consultations</a>
                    </li>
                <li style="margin-bottom: 15px; border-bottom: 1px solid #fff;">
                    <a href="{% url 'logout_view' %}" style="color: #fff; text-decoration: none; font-size: 16px; transition: all 0.3s ease; display: block; padding: 10px; border-radius: 5px;" onmouseover="this.style.backgroundColor='#fff'; this.style.color='#000';" onmouseout="this.style.backgroundColor='black'; this.style.color='#fff';">Logout</a>
                </li>
                </ul>
        {% endif %}
    </div>
</div>
<!-- Share container  end-->
            <!-- footer -->
            <footer class="main-footer">
                <div class="fixed-title"><span>Home Slider</span></div>
                <div class="footer-social">
                    <ul>
                        <li><a href="#" target="_blank" ><i class="fa fa-facebook"></i></a></li>
                        <li><a href="#" target="_blank"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="#" target="_blank" ><i class="fa fa-instagram"></i></a></li>
                        <li><a href="#" target="_blank" ><i class="fa fa-pinterest"></i></a></li>
                        <li><a href="#" target="_blank" ><i class="fa fa-tumblr"></i></a></li>
                    </ul>
                </div>
            </footer>
            <!-- footer end-->
        </div>
        <!-- Main end -->
        <!--=============== scripts  ===============-->
        <script type="text/javascript" src="{% static 'index/js/jquery.min.js' %}"></script>
            <script type="text/javascript" src="{% static 'index/js/plugins.js' %}"></script>
            <script type="text/javascript" src="{% static 'index/js/scripts.js' %}"></script>

<!-- Chatbot Integration -->
<div id="chatbot" style="position: fixed; bottom: 20px; right: 20px; width: 300px; max-width: 90vw; border: 1px solid #000; border-radius: 10px; background-color: white; display: none; box-shadow: 0 2px 10px rgba(0,0,0,0.2); z-index: 9999;">
    <!-- Header -->
    <div style="padding: 12px; background-color: #000000; color: white; border-radius: 10px 10px 0 0; display: flex; justify-content: space-between; align-items: center;">
        <div style="font-size: 14px; display: flex; align-items: center; gap: 8px;">
            <i class="fa fa-robot" style="font-size: 16px;"></i>
            <span style="color: #ffffff;">ElegantDecor</span>
            <span style="color: #ffffff; font-size: 12px;">AI</span>
        </div>
        <div style="display: flex; align-items: center; gap: 10px;">
            {% if user.is_authenticated %}
                <span style="font-size: 12px; color: #ffffff;">Hi, {{ user.username }}</span>
            {% endif %}
            <button onclick="toggleChatbot()" style="background: none; border: none; color: white; font-size: 18px; cursor: pointer;">×</button>
        </div>
    </div>

    <!-- Chat Messages -->
    <div id="chatbot-messages" style="height: 300px; overflow-y: auto; padding: 10px; font-family: Arial, sans-serif; font-size: 14px;">
        <!-- Messages will appear here -->
    </div>

    <!-- Input Area -->
    <div style="padding: 10px; display: flex; gap: 5px;">
        <input type="text" id="chatbot-input" placeholder="Type your message..." 
               style="flex: 1; padding: 8px; border-radius: 20px; border: 1px solid #ccc; font-size: 14px;" />
        <button onclick="sendMessage()" 
                style="background-color: #000000; color: white; border: none; border-radius: 20px; padding: 8px 15px; cursor: pointer;">
            Send
        </button>
    </div>
</div>

<!-- Chat Toggle Button -->
<button id="chat-toggle-btn" onclick="toggleChatbot()" 
        style="position: fixed; bottom: 20px; right: 20px; 
               background-color: #000000; 
               color: #ffffff; 
               border: none; 
               border-radius: 50%; 
               width: 60px; 
               height: 60px; 
               cursor: pointer; 
               z-index: 9999;
               box-shadow: 0 4px 8px rgba(0,0,0,0.2);
               display: flex;
               flex-direction: column;
               align-items: center;
               justify-content: center;
               padding: 8px;">
    <i class="fa fa-robot" style="font-size: 24px; margin-bottom: 2px;"></i>
    <span style="font-size: 10px; font-weight: bold;">AI Chat</span>
</button>

<!-- Add this script right before the closing </body> tag -->
<script>
// Make sure these variables are defined
const API_KEY = 'AIzaSyCcldFUfZNm4jRcDeWhj64mUfvqx7l3t18';
const API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent';

// First, let's add the welcome message function
function showWelcomeMessage() {
    const messagesDiv = document.getElementById('chatbot-messages');
    const timestamp = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
    const isAuthenticated = {{ user.is_authenticated|yesno:"true,false" }};
    
    const welcomeMessage = isAuthenticated ? 
        `👋 Welcome back to ElegantDecor Chat!<br>I'm here to help you with your orders, consultations, and projects. How can I assist you today?` :
        `👋 Welcome to ElegantDecor Chat!<br>I'm here to provide information about our services and interior design guidance. For personalized assistance, please sign in.`;
    
    messagesDiv.innerHTML = `
        <div style="display: flex; justify-content: flex-start; margin: 8px 0;">
            <div style="max-width: 100%;">
                <div style="background-color: #f5f5f5; padding: 15px; border-radius: 12px 12px 12px 0;">
                    <div style="margin-bottom: 10px;">
                        <div style="font-size: 16px; font-weight: bold; color: #000000; margin-bottom: 5px;">
                            ${welcomeMessage}
                        </div>
                    </div>
                </div>
                <div style="font-size: 10px; color: #666;">
                    ${timestamp}
                </div>
            </div>
        </div>`;
}

// Update the profile card formatting
function formatProfileCard(userInfo) {
    if (!userInfo) return "Profile information not available.";
    return `
        <div style="background-color: white; border: 1px solid #e0e0e0; border-radius: 12px; overflow: hidden; margin-bottom: 10px; max-width: 300px;">
            <!-- Header -->
            <div style="background-color: #000000; color: white; padding: 12px; text-align: center;">
                <div style="font-size: 18px; font-weight: bold;">${userInfo.name || 'User'}</div>
                <div style="font-size: 14px;">${userInfo.user_type || 'Customer'}</div>
            </div>
            
            <!-- Contact Details -->
            <div style="padding: 12px;">
                <div style="margin-bottom: 12px;">
                    <table style="width: 100%; border-collapse: collapse; table-layout: fixed;">
                        <tr>
                            <td style="padding: 4px 0; color: #666; font-size: 13px; width: 55px; vertical-align: top;">Email:</td>
                            <td style="padding: 4px 0; font-size: 13px; color: #333; word-break: break-all;">
                                ${userInfo.email || 'N/A'}
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 4px 0; color: #666; font-size: 13px; vertical-align: top;">Phone:</td>
                            <td style="padding: 4px 0; font-size: 13px; color: #333;">
                                ${userInfo.phone || 'N/A'}
                            </td>
                        </tr>
                    </table>
                </div>
                
                <!-- Stats Summary -->
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); text-align: center; border-top: 1px solid #eee; padding-top: 12px; gap: 5px;">
                    <div>
                        <div style="font-size: 18px; font-weight: bold; color: #000000; margin-bottom: 2px;">
                            ${userInfo.orders ? userInfo.orders.length : 0}
                        </div>
                        <div style="font-size: 11px; color: #666; text-transform: uppercase;">Orders</div>
                    </div>
                    <div>
                        <div style="font-size: 18px; font-weight: bold; color: #000000; margin-bottom: 2px;">
                            ${userInfo.consultations ? userInfo.consultations.length : 0}
                        </div>
                        <div style="font-size: 11px; color: #666; text-transform: uppercase;">Consults</div>
                    </div>
                    <div>
                        <div style="font-size: 18px; font-weight: bold; color: #000000; margin-bottom: 2px;">
                            ${userInfo.projects ? userInfo.projects.length : 0}
                        </div>
                        <div style="font-size: 11px; color: #666; text-transform: uppercase;">Projects</div>
                    </div>
                </div>
            </div>
        </div>
    `;
}

// Update the toggleChatbot function to show welcome message
function toggleChatbot() {
    const chatbot = document.getElementById('chatbot');
    const toggleBtn = document.getElementById('chat-toggle-btn');
    
    if (chatbot.style.display === 'none') {
        chatbot.style.display = 'block';
        toggleBtn.style.display = 'none';
        // Show welcome message when chat is opened
        showWelcomeMessage();
    } else {
        chatbot.style.display = 'none';
        toggleBtn.style.display = 'flex';
    }
}

async function getUserInfo() {
    try {
        const response = await fetch('/api/user-info/');
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Error fetching user info:', error);
        return null;
    }
}

async function sendMessage() {
    const input = document.getElementById('chatbot-input');
    const message = input.value.trim();
    
    if (!message) return;

    const messagesDiv = document.getElementById('chatbot-messages');
    const timestamp = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

    // Clear input
    input.value = '';

    // Add user message
    messagesDiv.innerHTML += `
        <div style="display: flex; justify-content: flex-end; margin: 8px 0;">
            <div style="max-width: 80%;">
                <div style="background-color: #000000; color: white; padding: 8px 12px; border-radius: 12px 12px 0 12px;">
                    ${message}
                </div>
                <div style="text-align: right; font-size: 10px; color: #666;">
                    ${timestamp}
                </div>
            </div>
        </div>`;

    try {
        // Check if user is authenticated
        const isAuthenticated = {{ user.is_authenticated|yesno:"true,false" }};
        let userInfo = null;

        if (isAuthenticated) {
            // Get user info for authenticated users
            const userResponse = await fetch('/api/user-info/');
            userInfo = await userResponse.json();
        }

        // Show typing indicator
        messagesDiv.innerHTML += `
            <div id="typing-indicator" style="display: flex; justify-content: flex-start; margin: 8px 0;">
                <div style="background-color: #f5f5f5; padding: 8px 12px; border-radius: 12px 12px 12px 0;">
                    <div class="typing-dots">
                        <span>.</span><span>.</span><span>.</span>
                    </div>
                </div>
            </div>`;

        const promptText = isAuthenticated ? 
            `
                You are an AI assistant for ElegantDecor. The current user's information is:
                - Name: ${userInfo.name}
                - Email: ${userInfo.email}
                - Phone: ${userInfo.phone}
                - User Type: ${userInfo.user_type}
                
                Their current status:
                - Orders: ${JSON.stringify(userInfo.orders)}
                - Consultations: ${JSON.stringify(userInfo.consultations)}
                - Projects: ${JSON.stringify(userInfo.projects)}
                
                Website URLs:
                - Main website: https://elegantdecor.com
                - Shop: https://elegantdecor.com/shop
                - Portfolio: https://elegantdecor.com/portfolio
                - Book Consultation: https://elegantdecor.com/consultations
                - Customer Dashboard: https://elegantdecor.com/dashboard
                - Contact: https://elegantdecor.com/contact
                
                User query: ${message}
                
                Provide a helpful, specific response based on their actual data. When referring to website sections, include the relevant URLs.
            ` :
            `
                You are an AI assistant for ElegantDecor, a creative interior design and architecture studio. 
                You help users with information about our services, designs, and general interior design advice.
                
                Key information about ElegantDecor:
                - We offer interior design and architecture services
                - We have an online shop for furniture and decor items
                - We provide design consultations with professional designers
                - We create custom mood boards for design inspiration
                - We handle complete interior design projects
                
                Website URLs:
                - Main website: https://elegantdecor.com
                - Shop: https://elegantdecor.com/shop
                - Portfolio: https://elegantdecor.com/portfolio
                - Book Consultation: https://elegantdecor.com/consultations
                - Sign In: https://elegantdecor.com/signin
                - Contact: https://elegantdecor.com/contact
                
                For personalized information about orders, consultations, or projects, please encourage users to sign in at https://elegantdecor.com/signin
                
                User query: ${message}
                
                Provide a helpful response focused on general information and guidance. When referring to website sections, include the relevant URLs.
            `;

        const response = await fetch(`${API_URL}?key=${API_KEY}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                contents: [{
                    parts: [{
                        text: promptText
                    }]
                }]
            })
        });

        // Remove typing indicator
        const typingIndicator = document.getElementById('typing-indicator');
        if (typingIndicator) {
            typingIndicator.remove();
        }

        const data = await response.json();
        let botResponse = data.candidates[0].content.parts[0].text;

        // Format the data into tables when needed
        function formatOrdersTable(orders) {
            if (!orders || orders.length === 0) return "No orders found.";
            return `
                <div style="max-height: 200px; overflow-y: auto;">
                    <table style="width: 100%; border-collapse: collapse; margin: 5px 0; font-size: 12px; table-layout: fixed; min-width: 400px;">
                        <thead>
                            <tr style="background-color: #000000; color: white; position: sticky; top: 0; z-index: 1;">
                                <th style="padding: 6px; text-align: left; width: 35%;">Product</th>
                                <th style="padding: 6px; text-align: left; width: 25%;">Status</th>
                                <th style="padding: 6px; text-align: right; width: 40%;">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${orders.map(order => `
                                <tr style="border-bottom: 1px solid #eee;">
                                    <td style="padding: 6px;">${order.product || 'N/A'}</td>
                                    <td style="padding: 6px;">${order.status || 'Pending'}</td>
                                    <td style="padding: 6px; text-align: right; white-space: nowrap;">Rs. ${order.amount || '0.00'}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>`;
        }

        function formatConsultationsTable(consultations) {
            if (!consultations || consultations.length === 0) return "No consultations found.";
            return `
                <div style="max-height: 200px; overflow-y: auto;">
                    <table style="width: 100%; border-collapse: collapse; margin: 5px 0; font-size: 12px; table-layout: fixed; min-width: 400px;">
                        <thead>
                            <tr style="background-color: #000000; color: white; position: sticky; top: 0; z-index: 1;">
                                <th style="padding: 8px; text-align: left; width: 25%;">Date</th>
                                <th style="padding: 8px; text-align: left; width: 35%;">Design</th>
                                <th style="padding: 8px; text-align: left; width: 25%;">Designer</th>
                                <th style="padding: 8px; text-align: left; width: 15%;">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${consultations.map(consultation => `
                                <tr style="border-bottom: 1px solid #eee;">
                                    <td style="padding: 8px; white-space: nowrap;">${consultation.date.split(' ')[0] || 'N/A'}</td>
                                    <td style="padding: 8px; white-space: nowrap;">${consultation.design || 'N/A'}</td>
                                    <td style="padding: 8px; white-space: nowrap;">SR Designs</td>
                                    <td style="padding: 8px;">${consultation.status || 'Pending'}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>`;
        }

        function formatProjectsTable(projects) {
            if (!projects || projects.length === 0) return "No projects found.";
            return `
                <div style="max-height: 200px; overflow-y: auto;">
                    <table style="width: 100%; border-collapse: collapse; margin: 5px 0; font-size: 12px; table-layout: fixed; min-width: 400px;">
                        <thead>
                            <tr style="background-color: #000000; color: white; position: sticky; top: 0; z-index: 1;">
                                <th style="padding: 8px; text-align: left; width: 35%;">Design</th>
                                <th style="padding: 8px; text-align: left; width: 25%;">Designer</th>
                                <th style="padding: 8px; text-align: left; width: 20%;">Status</th>
                                <th style="padding: 8px; text-align: left; width: 20%;">Payment</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${projects.map(project => `
                                <tr style="border-bottom: 1px solid #eee;">
                                    <td style="padding: 8px; white-space: nowrap;">${project.design || 'N/A'}</td>
                                    <td style="padding: 8px; white-space: nowrap;">SR Designs</td>
                                    <td style="padding: 8px;">${project.status || 'Pending'}</td>
                                    <td style="padding: 8px;">${project.payment || 'Pending'}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>`;
        }

        // Process the response based on the query
        let formattedResponse = botResponse;
        
        // Check if the message is asking about profile
        if (message.toLowerCase().includes('profile') || message.toLowerCase().includes('my info')) {
            formattedResponse = `Here's your profile:\n${formatProfileCard(userInfo)}`;
        } else if (message.toLowerCase().includes('order')) {
            formattedResponse = `Here are your orders:\n${formatOrdersTable(userInfo.orders)}`;
        } else if (message.toLowerCase().includes('consultation')) {
            formattedResponse = `Here are your consultations:\n${formatConsultationsTable(userInfo.consultations)}`;
        } else if (message.toLowerCase().includes('project')) {
            formattedResponse = `Here are your projects:\n${formatProjectsTable(userInfo.projects)}`;
        }

        // Add bot response with formatted content
        messagesDiv.innerHTML += `
            <div style="display: flex; justify-content: flex-start; margin: 8px 0;">
                <div style="max-width: 100%; width: 100%;">
                    <div style="background-color: #f5f5f5; padding: 8px 12px; border-radius: 12px 12px 12px 0;">
                        ${formattedResponse}
                    </div>
                    <div style="font-size: 10px; color: #666;">
                        ${timestamp}
                    </div>
                </div>
            </div>`;

    } catch (error) {
        console.error('Error:', error);
        messagesDiv.innerHTML += `
            <div style="display: flex; justify-content: flex-start; margin: 8px 0;">
                <div style="max-width: 80%;">
                    <div style="background-color: #fff0f0; color: #d32f2f; padding: 8px 12px; border-radius: 12px 12px 12px 0;">
                        I apologize, but I'm having trouble processing your request right now. Please try again.
                    </div>
                    <div style="font-size: 10px; color: #666;">
                        ${timestamp}
                    </div>
                </div>
            </div>`;
    }

    // Scroll to bottom
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

// Add Enter key handler
document.getElementById('chatbot-input').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        sendMessage();
    }
});

// Add some CSS for the typing animation
const style = document.createElement('style');
style.textContent = `
    .typing-dots span {
        animation: typing 1.4s infinite;
        opacity: 0.3;
    }
    .typing-dots span:nth-child(2) {
        animation-delay: 0.2s;
    }
    .typing-dots span:nth-child(3) {
        animation-delay: 0.4s;
    }
    @keyframes typing {
        0%, 100% {
            opacity: 0.3;
        }
        50% {
            opacity: 1;
        }
    }
`;
document.head.appendChild(style);
</script>
 </body>
</html>
